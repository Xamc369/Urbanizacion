@model Urbanizacion.Web.Data.Entities.Propietariostbl


@{
    ViewData["Title"] = "Details";
}

<link rel="stylesheet" href="~/css/tabla/paginate.css">
<link rel="stylesheet" href="~/css/main.css">
<link rel="stylesheet" href="~/css/adminlte.min.css">
<script type="text/javascript" src="~/js/tabla/paginate.js"></script>

<style>
    * {
        font-family: sans-serif;
    }
</style>
<br />


<h3 class="text-titles" style="text-align:center"><i class="glyphicon glyphicon-list-alt"></i><strong> Información</strong></h3>

<div>
    <hr />
    <div class="form-group col-md-6" >
        <div class="card " style="max-width: 60rem;">

            <div class="card-header1">
                <h6 style="font-size: 18px;color:white">Usuario</h6>
            </div>

            <dl class="dl-horizontal">

                <dt>
                    @Html.DisplayNameFor(model => model.User.Pro_Nombres)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.User.Pro_Nombres)
                </dd>
                <dt>
                    @Html.DisplayNameFor(model => model.User.Pro_Apellidos)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.User.Pro_Apellidos)
                </dd>
                <dt>
                    @Html.DisplayNameFor(model => model.User.Pro_Lote)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.User.Pro_Lote)
                </dd>
                <dt>
                    @Html.DisplayNameFor(model => model.User.Pro_Identificacion)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.User.Pro_Identificacion)
                </dd>

            </dl>

        </div>


    </div>
    </div>
<div class="form-group col-md-6">
    <div class="card " style="max-width: 30rem;">

        <div class="card-header1">
            <h6 style="font-size: 18px;color:white">Insertar nuevo</h6>
        </div>
        <div>
            @*<a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">Edit</a> |*@
            <div class="form-group col-md-6" >
                <br />
                <a asp-action="AddVehiculo" asp-route-id="@Model.Id" class="btn btn-primary"><i><img style="width:50px; height:50px" src="~/css/img/iconmonstr-car-3.svg"></i></a>
                <br />
                <a asp-action="AddPago" asp-route-id="@Model.Id" class="btn btn-success">
                    <i>
                        <svg xmlns="http://www.w3.org/2000/svg" width="50px" height="50px" fill="currentColor" class="bi bi-cash-stack" viewBox="0 0 16 16">
                            <path d="M1 3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1H1zm7 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" />
                            <path d="M0 5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V5zm3 0a2 2 0 0 1-2 2v4a2 2 0 0 1 2 2h10a2 2 0 0 1 2-2V7a2 2 0 0 1-2-2H3z" />
                        </svg>
                    </i>
                </a>
            </div>
            <br />
            <div style="margin-right:50px">
                <a asp-action="AddNegocio" asp-route-id="@Model.Id" class="btn btn-warning">
                    <i>
                        <svg xmlns="http://www.w3.org/2000/svg" width="50px" height="50px" fill="currentColor" class="bi bi-shop" viewBox="0 0 16 16">
                            <path d="M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zM4 15h3v-5H4v5zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3zm3 0h-2v3h2v-3z" />
                        </svg>
                    </i>
                </a>
                <br />
                <a asp-action="Index" class="btn btn-info">
                    <i>
                        <svg xmlns="http://www.w3.org/2000/svg" width="50px" height="50px" fill="currentColor" class="bi bi-arrow-return-left" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5z" />
                        </svg>
                    </i>
                </a>
            </div>
        </div>
    </div>
</div>

    @if (Model.Vehiculos.Count == 0)
    {
        <h4>No registra vehiculos</h4>
    }
    else
    {
        <!-- Tabla vehiculos-->
        <br />
        <br />
        <br />
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">





                    <div class="panel-heading">
                        <h3 class="panel-title">Vehiculos</h3>
                    </div>
                    <flash dismissable="true" />
                    <div class="panel-body">
                        <table class="myTable table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th>
                                        @Html.DisplayNameFor(model => model.Vehiculos.FirstOrDefault().Veh_Codigo)
                                    </th>
                                    <th>
                                        @Html.DisplayNameFor(model => model.Vehiculos.FirstOrDefault().Veh_Placa)
                                    </th>
                                    <th>
                                        @Html.DisplayNameFor(model => model.Vehiculos.FirstOrDefault().ImageUrl)
                                    </th>
                                    <th>Acción</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.Vehiculos.Where(v => v.Veh_Estado == 'A'))
                                {
                                    <tr>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Veh_Codigo)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Veh_Placa)
                                        </td>
                                        <td>
                                            @if (!string.IsNullOrEmpty(item.ImageUrl))
                                            {
                                                <img src="@Url.Content(item.ImageUrl)" alt="Image" style="width:200px;height:200px;max-width: 100%; height: auto;" />
                                            }
                                        </td>
                                        <td>
                                            <a asp-action="EditVehiculo" asp-route-id="@item.Id" class="btn btn-warning"><i class="glyphicon glyphicon-edit"></i></a> ]
                                            @*<a asp-action="DetailsPago" asp-route-id="@item.Id" class="btn btn-success"><i class="glyphicon glyphicon-list-alt"></i></a> ]*@
                                            <button data-id="@item.Id" class="btn btn-danger deleteItem" data-toggle="modal" data-target="#deleteDialogv"><i class="glyphicon glyphicon-trash"></i></button>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    }

    @if (Model.Negocio.Count == 0)
    {
        <h4>No registra negocios</h4>
    }
    else
    {
        <br />
        <br />
        <br />
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Negocios</h3>
                    </div>
                    <div class="panel-body">
                        <table class="table table-hover table-responsive table-striped" >
                            <thead>
                                <tr>
                                    <th>
                                        @Html.DisplayNameFor(model => model.Negocio.FirstOrDefault().Neg_Nombre)
                                    </th>
                                    <th>
                                        @Html.DisplayNameFor(model => model.Negocio.FirstOrDefault().ImageUrl)
                                    </th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.Negocio.Where(n => n.Neg_Estado == 'A'))
                                {
                                    <tr>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Neg_Nombre)
                                        </td>
                                        <td>
                                            @if (!string.IsNullOrEmpty(item.ImageUrl))
                                            {
                                                <img src="@Url.Content(item.ImageUrl)" alt="Image" style="width:200px;height:200px;max-width: 100%; height: auto;" />
                                            }
                                        </td>
                                        <td>
                                            <a asp-action="EditNegocio" asp-route-id="@item.Id" class="btn btn-warning"><i class="glyphicon glyphicon-edit"></i></a> ]
                                            <a asp-action="DetailsNegocio" asp-route-id="@item.Id" class="btn btn-success"><i class="glyphicon glyphicon-list-alt"></i></a> ]
                                            <button data-id="@item.Id" class="btn btn-danger deleteItem" data-toggle="modal" data-target="#deleteDialogn"><i class="glyphicon glyphicon-trash"></i></button>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    }
    @if (Model.Pagos.Count == 0)
    {
        <h4>No tiene Pagos todavia</h4>
    }
    else
    {
        <br />
        <br />
        <br />
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Pagos</h3>
                    </div>
                    <div class="panel-body">
                        <table class="myTable table table-striped table-bordered" id="tblpagos">
                            <thead>
                                <tr>
                                    <th>
                                        @Html.DisplayNameFor(model => model.Pagos.FirstOrDefault().PAG_FECHAPAGADO)
                                    </th>
                                    <th>
                                        @Html.DisplayNameFor(model => model.Pagos.FirstOrDefault().Anio)
                                    </th>
                                    <th>
                                        @Html.DisplayNameFor(model => model.Pagos.FirstOrDefault().Mes)
                                    </th>
                                    <th>
                                        @Html.DisplayNameFor(model => model.Pagos.FirstOrDefault().Val)
                                    </th>
                                    <th>
                                        @Html.DisplayNameFor(model => model.Pagos.FirstOrDefault().Tipos)
                                    </th>
                                    <th>
                                        @Html.DisplayNameFor(model => model.Pagos.FirstOrDefault().PuntodePago)
                                    </th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.Pagos.Where(pa => pa.PAG_ESTADO == 'A'))
                                {
                                    <tr>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.PAG_FECHAPAGADO)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Anio.Ani_Descripcion)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Mes.Mes_Descripcion)
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Val.Val_Valor)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Tipos.Tip_Descripcion)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.PuntodePago.Pun_Descripcion)
                                        </td>
                                        <td>
                                            <a asp-action="EditPago" asp-route-id="@item.Id" class="btn btn-warning"><i class="glyphicon glyphicon-edit"></i></a> ]
                                            @*<a asp-action="DetailsPago" asp-route-id="@item.Id" class="btn btn-success"><i class="glyphicon glyphicon-list-alt"></i></a> ]*@
                                            <button data-id="@item.Id" class="btn btn-danger deleteItem" data-toggle="modal" data-target="#deleteDialogp"><i class="glyphicon glyphicon-trash"></i></button>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    }
    <partial name="_DeleteDialog" />


    @section Scripts {
        @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
        <script src="//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>

        <script type="text/javascript">
            $(document).ready(function () {
                $('#tblpagos').DataTable();
                // Delete item
                var item_to_delete;

                $('.deleteItem').click((e) => {
                    item_to_delete = e.currentTarget.dataset.id;
                });

                $("#btnYesDeletep").click(function () {
                    window.location.href = '/Propietario/DeletePagos/' + item_to_delete;
                });
            });
        </script>

        <script type="text/javascript">
            $(document).ready(function () {
                $('#tblnegocios').DataTable();
                // Delete item
                var item_to_delete;

                $('.deleteItem').click((e) => {
                    item_to_delete = e.currentTarget.dataset.id;
                });

                $("#btnYesDeleten").click(function () {
                    window.location.href = '/Propietario/DeleteNegocio/' + item_to_delete;
                });
            });
        </script>

        <script type="text/javascript">
            $(document).ready(function () {
                $('#tblvehiculos').DataTable();
                // Delete item
                var item_to_delete;

                $('.deleteItem').click((e) => {
                    item_to_delete = e.currentTarget.dataset.id;
                });

                $("#btnYesDeletev").click(function () {
                    window.location.href = '/Propietario/DeleteVehiculo/' + item_to_delete;
                });
            });
        </script>
    }

